{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vote Submitted</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            cursor: none;
            background-color: #f8f9fa;
        }
    </style>
</head>
<body>

<!-- ðŸ”Š Hidden Buzzer Audio -->
<audio id="buzzer" preload="auto">
    <source src="{% static 'sounds/buzzer.mp3' %}" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>

<div class="container d-flex justify-content-center align-items-center vh-100">
    <div class="text-center">
        <h2 class="text-success mb-3">Vote Submitted Successfully!</h2>
        <p class="lead">Thank you for voting. Redirecting to welcome screen...</p>
    </div>
</div>

<script>
    // Try playing sound once page is fully loaded
    window.addEventListener('DOMContentLoaded', function () {
        const buzzer = document.getElementById('buzzer');
        buzzer.play().catch((e) => {
            console.warn("Autoplay blocked:", e);
        });
    });

    // Redirect after 5 seconds
    setTimeout(() => {
        window.location.href = "{% url 'cast_vote' election_id %}";
    }, 5000);
</script>

</body>
</html>
