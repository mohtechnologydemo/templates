{% extends "base.html" %}

{% block content %}
<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-md-6">

            <h3 class="text-center mb-4">Add New Student</h3>

            <form method="POST" onsubmit="disableSubmit(this);">
                {% csrf_token %}
                
                <div class="mb-3">
                    <label for="name" class="form-label">Full Name</label>
                    <input type="text" class="form-control" name="name" id="name" required>
                </div>

                <div class="mb-3">
                    <label for="roll_no" class="form-label">Roll Number</label>
                    <input type="text" class="form-control" name="roll_no" id="roll_no" required>
                </div>

                <div class="mb-3">
                    <label for="email" class="form-label">Email Address</label>
                    <input type="email" class="form-control" name="email" id="email">
                </div>

                <div class="mb-3">
                    <label for="department" class="form-label">Department</label>
                    <select class="form-select" name="department" id="department" required>
                        <option value="" disabled selected>-- Select Department --</option>
                        <option value="CSE">Computer Science & Engineering (CSE)</option>
                        <option value="AI">Artificial Intelligence (AI)</option>
                        <option value="DS">Data Science (DS)</option>
                        <option value="IT">Information Technology (IT)</option>
                        <option value="ECE">Electronics & Communication Engineering (ECE)</option>
                        <option value="EEE">Electrical & Electronics Engineering (EEE)</option>
                        <option value="ME">Mechanical Engineering (ME)</option>
                        <option value="CE">Civil Engineering (CE)</option>
                        <option value="CE">Agriculture Engineering (AG)</option>
                        <option value="Other">Other</option>
                    </select>
                </div>


                <div class="d-grid">
                    <button id="submitBtn" type="submit" class="btn btn-primary">Add Student</button>
                </div>
            </form>

        </div>
    </div>
</div>

<!-- âœ… Add this script -->
<script>
    function disableSubmit(form) {
        const button = form.querySelector('button[type="submit"]');
        button.disabled = true;
        button.innerText = 'Submitting...';
    }
</script>
{% endblock %}
